<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista palabras en orden alfabético</title>
</head>

<body>
    <h1>Lista de palabras en orden alfabético</h1>
    <p id="texto">perro .,.-+`come azul-..-,. manzana azul perro</p>
    <p id="resultado"></p>

    <script>
        //podemos crear una función para excluir los caracteres especificos
        let obviarCaracteresEspeciales = (text) => {
            let caracteresEspeciales = [",", ".", ";", ":", "-", "´",];
            for (let i = 0; i < caracteresEspeciales.length; i++) {
                text = text.split(caracteresEspeciales[i]).join('');
            }
            return text;
        }
        //let palabrasDeshordenadas = obviarCaracteresEspeciales(document.getElementById('texto').innerHTML);

        //De la otra forma es con una expresión regular, con eso podemos hacer que solo ponga letras
        let palabrasDeshordenadas = document.getElementById('texto').innerHTML.replace(/[^a-zA-Z ]/g, '');

        //cuando encuentre un espacio añade a palabrasOrdenadas hasta donde haya encontrado y lo ordena
        let palabrasOrdenadas = palabrasDeshordenadas.split(" ").sort();

        let palabrasOrdenedasRepeticiones = new Array();

        //como ya está ordenada lo único que  hay que hacer es iterar el array
        //e ir añadiendolo al nuevo array si no existe y si existe le suma 1
        for (let palabra of palabrasOrdenadas) {
            if (!palabrasOrdenedasRepeticiones[palabra]) {
                palabrasOrdenedasRepeticiones[palabra] = 1;
            } else {
                palabrasOrdenedasRepeticiones[palabra]++;
            }
        }

        console.log(palabrasOrdenedasRepeticiones)
    </script>

</body>

</html>