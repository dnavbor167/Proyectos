<html>

<head>
    <title>retos JavaScript</title>
</head>

<body>
    <h1>retos JavaScript</h1>
    <script>
        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var carrakos = ["Chevrolet", "Tesla", "BMW", ["Honda", "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday"], ["Mazda", "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]]];
        //Alguien sabe hacer una lista única de coches con los dos arrays (sin repeticiones)?
        const result = cars.flat(2).concat(carrakos.flat(2)).sort().map((valor, indice, arr) => {
            if (indice === 0) return valor;
            if (indice > 0 && valor != arr[indice - 1]) return valor;
            if (indice > 0 && valor == arr[indice - 1]) return undefined;
        });

        //Alguien sabría decirme los coches de carrakos que no estén en cars?
        const carrakosNoCars = carrakos.flat(2).reduce((acumulador, valorActual) => {
            if (!cars.flat(2).some((elemento) => valorActual === elemento)) {
                acumulador.push(valorActual);
            }
            return acumulador;
        }, []);

        // otra forma:
        const carrakosNoCars2 = carrakos.flat(2).filter((coche) => !cars.flat(2).includes(coche));
        console.log("carrakos2: " +  carrakosNoCars2);
        console.log(carrakosNoCars);

        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var buddies = [{ firstName: "Chuck", lastName: "Norris", car: "Honda" }, { firstName: "Yakie", lastName: "Chang", car: "BMW" }, { firstName: "Bruce", lastName: "Lee", car: "Honda" }, { firstName: "Steven", lastName: "Seagal", car: "Lada" }];
        
        //-Nombre y apellidos de los buddies que usan un Honda
        const hondaBuddies = buddies.filter((valor) => valor.car === "Honda").map((buddy) => buddy.firstName + " " + buddy.lastName);
        console.log(hondaBuddies);
        //-Marcas utilizadas por los buddies
        const marcasDeBuddies = buddies.map((marcas) => marcas.car);
        console.log(marcasDeBuddies);
        //-Marcas no utilizadas por los buddies.
        const marcasNoUsadasCars = cars.flat(2).filter((coche) => !buddies.map((buddy) => buddy.car).includes(coche));
        console.log(marcasNoUsadasCars);
        //-Cuantas marcas han sido utilizadas
        const marcasUtilizadas = buddies
            .map(m => m.car)
            .filter((valor, indice, arr) => arr.indexOf(valor) === indice).length;
        console.log(marcasUtilizadas);
        //-Cuantas marcas no han sido utilizadas
        const marcasBuddiesNoUtilizada = cars.flat(2).filter((coches) => !buddies.map((cocheBuddi) => cocheBuddi.car).includes(coches)).length;
        console.log(marcasBuddiesNoUtilizada);


    </script>
</body>

</html>