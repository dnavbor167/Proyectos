<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repasito</title>
</head>

<body>
    <p id="resultado">Tenemos el array definido de la siguiente manera:
        let numeros = [1, 2, 3, 4, 5, 6, 7]; cuando pulses el botón aquí
        aparecerán los mismos números incrementados en la posición que ocupan 1,3,5,7,....
        La función solamente tiene una línea de código.
    </p>
    <button onclick="dale()">ejecuta</button>

    <p id="result"></p>
    <script>
        //Reto 1
        console.log("Repaso 1")
        let numeros = [1, 2, 3, 4, 5, 6, 7];
        function dale() {
            document.getElementById("resultado").innerHTML = numeros.map((value, index) => value + index)
        }

        //Repaso 2
        console.log("Repaso 2")
        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var carrakos = ["Chevrolet", "Tesla", "BMW", ["Honda", "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday"], ["Mazda", "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]]];
        //Alguien sabe hacer una lista única de coches con los dos arrays (sin repeticiones)?
        const noRep = cars.flat(Infinity)
            .concat(carrakos.flat(Infinity))
            .filter((valor, index, array) => array.indexOf(valor) == index)
        console.log(noRep)

        //Alguien sabría decirme los coches de carrakos que no estén en cars?
        const carrkNoCar = carrakos.flat(Infinity).filter(valor => !cars.flat(Infinity).find(valor2 => valor == valor2))
        console.log(carrkNoCar)

        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var buddies = [{ firstName: "Chuck", lastName: "Norris", car: "Honda" }, { firstName: "Yakie", lastName: "Chang", car: "BMW" }, { firstName: "Bruce", lastName: "Lee", car: "Honda" }, { firstName: "Steven", lastName: "Seagal", car: "Lada" }];
        //-Nombre y apellidos de los buddies que usan un Honda
        const budHond = buddies.filter(v => v.car === "Honda").map(n => n.firstName + " " + n.lastName)
        console.log(budHond)

        //-Marcas utilizadas por los buddies
        const marUtBud = buddies.map(m => m.car)
        console.log(marUtBud)

        //-Marcas no utilizadas por los buddies.
        const marNoUtBud = cars.flat(Infinity).filter(m => !buddies.find(mU => m == mU.car))
        console.log(marNoUtBud)

        //-Cuantas marcas han sido utilizadas
        const cuanMar = buddies.filter((valor, indice, array) => array.indexOf(valor) == indice).length
        console.log(cuanMar)

        //-Cuantas marcas no han sido utilizadas
        const cuanMarNo = cars.flat(Infinity).filter(c => !buddies.find(b => b.car == c)).length
        console.log(cuanMarNo)

        //Repaso 3
        console.log("Repaso 3")
        var valumnos = {
            "alumnos": [{
                "nombre": "Fulanito",
                "notas": {
                    "DWEC": 8,
                    "DWESE": 0.71,
                    "ED": 7.04,
                    "SSOO": 3.37,
                    "BBDD": 0.22,
                    "PROG": 1.09,
                    "EINEM": 6.17
                }
            },
            {
                "nombre": "Menganito",
                "notas": {
                    "DWEC": 7,
                    "DWESE": 0.71,
                    "ED": 7.04,
                    "SSOO": 3.37,
                    "BBDD": 0.22,
                    "PROG": 1.09,
                    "EINEM": 6.17
                }
            }
                ,
            {
                "nombre": "Cetanito",
                "notas": {
                    "DWEC": 6,
                    "DWESE": 0.71,
                    "ED": 7.04,
                    "SSOO": 3.37,
                    "BBDD": 0.22,
                    "PROG": 1.09,
                    "EINEM": 6.17
                }
            }
            ]
        };
        //Se pide la suma y la media de las notas de DWEC en tres líneas
        let nota = 0;
        const suma = valumnos.alumnos.map(n => nota += n.notas.DWEC)
        const dwec = valumnos.alumnos.filter(n => n.notas.DWEC).length
        const media = nota / dwec
        console.log("La media de dwec es " + media)

        //Repaso 4
        console.log("Repaso 4")
        var valumnos = {
            "alumnos": [{
                "nombre": "Fulanito",
                "notas": {
                    "DWEC": 8,
                    "DWESE": 0.71,
                    "ED": 7.04,
                    "SSOO": 3.37,
                    "BBDD": 0.22,
                    "PROG": 1.09,
                    "EINEM": 6.17
                }
            },
            {
                "nombre": "Menganito",
                "notas": {
                    "DWEC": 7,
                    "DWESE": 0.71,
                    "ED": 7.04,
                    "SSOO": 3.37,
                    "BBDD": 0.22,
                    "PROG": 1.09,
                    "EINEM": 6.17
                }
            }
                ,
            {
                "nombre": "Cetanito",
                "notas": {
                    "DWEC": 6,
                    "DWESE": 0.71,
                    "ED": 7.04,
                    "SSOO": 3.37,
                    "BBDD": 0.22,
                    "PROG": 1.09,
                    "EINEM": 6.17
                }
            }
            ]
        };

        //Se pide que hagas un programa que muestre la media de TODAS las notas de los 3 alumnos que tenemos en nuestro JSON.
        const todasNotas = valumnos.alumnos.map(n => Object.values(n.notas)).flat(Infinity)
        const sumaNotas = todasNotas.reduce((acc, e) => acc + e, 0)
        const mediaTotal = (sumaNotas / todasNotas.length).toFixed(3)
        console.log("La media total de todas las notas es de " + mediaTotal)

        //Repaso 5
        console.log("Repaso 5")
        let frutas = ["aguacate", "pera", "manzana", "naranja", "tomate", "granada", "mango", "litchi", "nispero"];
        let tropicales = ["aguacate", "mango", "litchi", "nispero"];
        let tropicStock = [{ fruta: "aguacate", stock: 50 }, { fruta: "mango", stock: 10 }, { fruta: "litchi", stock: 20 }, { fruta: "nispero", stock: 25 }];
        
        // frutas del array frutas que sean tropicales
        const frutTrop = frutas.filter(fT => tropicales.find(t => fT == t))
        console.log(frutTrop)
        // frutas del array frutas que NO sean tropicales
        const frutNoTrop = frutas.filter(fT => !tropicales.find(t => fT == t))
        console.log(frutNoTrop)

        //Nombre de las frutas con un stock mayor de 21
        const frutStock = frutas.filter(f => tropicStock.find(s => s.stock > 21 && s.fruta == f))
        console.log(frutStock)

    </script>
</body>

</html>